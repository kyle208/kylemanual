---
sidebar_position: 2
---
:::tip 解释
可自行设置一些网络api，防止作者的某些功能失效，自己可及时更新新的api，如作者不维护也可正常使用相关功能活跃群。

***预设值api示例会随时更改到最新，请自行更新！***

可当全局变量使用【自定义api=xxx】,xxx为触发词
:::

:::tip 提醒
推荐配合

工具1：插件默认已自带，位置：【自定义api】界面下-【测试】选项卡

工具2：[精易编程助手](http://soft.125.la/plugin.php?id=jingyi_soft:soft&cid=3) 具体查看【五、输入参数其他获取方式】

★工具1直接使用，复制返回参数，工具2按下面步骤复制

返回的参数，如有为图片的内容，也想发出来图片，可在回复内容中改为：【图片=【参数x】】参数x为返回值中的图片参数

⭐微信/小栗子可发送视频 ⭐酷v/qq框架可发语音
:::
![高级功能首页-api](/img/doc/高级功能/高级首页/自定义api.png)
![高级功能首页-api1](/img/doc/高级功能/高级首页/自定义api5.png)
![高级功能首页-api1](/img/doc/高级功能/高级首页/自定义api1.png)
:::danger
**可点【测试】进行测试，如果卡死请等待，与你设置的那个网站有关**
:::

## **一、通用部分示例填写步骤**
```
【触发词】：自行设置
【触发参数】：选其一[无参数/单参数/多参数/艾特]
触发参数解释：
支持0-3个，api地址替换填写【参数1、参数2、参数3】，
如https://api.vvhan.com/api/horoscope?type=参数1&time=参数2

①无参数：直接触发词即可
②单参数：触发词参数1/触发词 参数1
③多参数-2个：触发词参数1 参数2
多参数-3个：触发词参数1 参数2#参数3
④艾特：需配合自带参数[触发xx]使用

自带参数：【触发账号、触发头像、触发群号、触发昵称】参数为：艾特 时，此为艾特人的

自带参数定义说明：
触发账号：即为触发本api时的账号信息//艾特时为艾特人的
触发头像：即为触发账号的头像地址//艾特时为艾特人的
触发群号：即为触发的群号
触发昵称：即为触发账号的昵称//艾特时为艾特人的
```
## **二、单参示例填写步骤** 
:::tip 示例-天气
![高级功能首页-api](/img/doc/高级功能/高级首页/自定义api5-新json解析工具版.gif)
:::

## **三、双参示例填写步骤** 
:::tip 老示例
![高级功能首页-api](/img/doc/高级功能/高级首页/api示例-多参.gif)
:::

**1.填写 触发词及api网址，添加或修改【修改请先选择要修改的条目】**
```
触发词：星座运势
api：https://api.vvhan.com/api/horoscope?type=参数1&time=参数2
★你可以固定一个参数值，即可变为单参，简化群员输入，示例多参方便你理解
```
|名称|说明|参数位置|
|:--:|:--:|:--:|
|type|十二星座对应英文小写，aries, taurus, gemini, cancer, leo, virgo, libra, scorpio, sagittarius, capricorn, aquarius, pisces|参数1
|time|今日明日一周等运势,today, nextday, week, month, year, love|参数2

**2.点击你要的触发词条，在【测试】中填写后点击测试**
```
输入【星座运势参数1 参数2】测试后，结果一般会在下方输出，选择你要的参数，返回前面保存
如果为json，建议保留code等判断获取成功的标志参数哦

再次测试后，将出现在【测试-内容输出】中，可复制到前面【回复文本】编辑你要的回复顺序
```
**3.其他类似双参填写**

## **四、发送类型说明**
建议学习文本模式，其他地方都用的到哦！都是全局变量
```
文本：将以文本发送，除变量外，如：【图片=链接】【语音=链接】，详见全局变量，选择可链接的变量
图片：将链接已图片模式发送=等同于文本模式【图片=链接】
音频：QQ框架以语音模式发送，微信框架以播放歌曲形式发送=等同于文本模式【音频=链接】
视频：微信/小栗子可发送视频=等同于文本模式【视频=链接】
音频下载发送：将下载成mp3文件发送，酷v/QQ框架可发语音=等同于文本模式【语音=链接】
            链接确保为可播放文件，链接浏览器访问后为下图样式
```
![高级功能首页-api1](/img/doc/高级功能/高级首页/自定义api2.png)

:::tip 酷V语音发语音示例，QQ框架一致
![高级功能首页-api1](/img/doc/高级功能/高级首页/自定义api3.png)
:::

## **五、输入参数其他获取方式**
:::tip 说明
**插件自带的为简易解析，能使用大部分情况，但是有些数组不适用，故使用此方法能找到你要的全部参数信息**
:::
1.下载[精易助手](https://lanzout.com/ibtod083anhc) ，解压至你想放的位置，打开Edbug.exe

2.在网页访问api站点，复制json数据，粘贴到如图的json中，点解析后，右侧出现数据，找到你要的数据，下方路径将出现参数，将参数复制到自定义api的参数内即可，多个用/分开

![高级功能首页-api1](/img/doc/高级功能/高级首页/自定义api解析0.png)
![高级功能首页-api1](/img/doc/高级功能/高级首页/自定义api解析2.png)
![高级功能首页-api1](/img/doc/高级功能/高级首页/自定义api解析1.png)